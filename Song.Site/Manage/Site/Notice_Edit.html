<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>通知公告内容编辑</title>
    <link href="/Utility/ElementUi/index.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="/Utility/ElementUi/vue_min.js"></script>
    <script type="text/javascript" src="/Utility/ElementUi/index.js"></script>
    <script type="text/javascript" src="/Utility/CoreScripts/axios_min.js"></script>
    <script type="text/javascript" src="/Utility/CoreScripts/api.js"></script>
    <script type="text/javascript" src="/Utility/editor/vue-html5-editor.js"></script>
    <link href="/Utility/editor/vue-html5-editor.css" rel="stylesheet">
    <link href="Styles/Notice_Edit.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div id="app" v-cloak>
        <el-form ref="formData" :model="formData" :rules="rules" @submit.native.prevent label-width="80px">
            <el-tabs v-model="activeName">
                <el-tab-pane label="基础信息" name="tab01">
                    <el-col :span="24">
                        <el-form-item label="标题" prop="No_Ttl">
                            <el-input v-model="formData.No_Ttl" clearable :style="{width: '100%'}">
                            </el-input>
                        </el-form-item>
                        <el-form-item label="内容" prop="Ot_Name">
                            <vue-html5-editor :content="details" :show-module-name="false" ref="editor"
                                @change="updateDetails">
                            </vue-html5-editor>
                        </el-form-item>
                    </el-col>
                </el-tab-pane>
                <el-tab-pane label="高级设置" name="tab02">
                    <el-col :span="24">
                        <el-form-item label="" prop="No_IsOpen">
                            <el-switch v-model="formData.No_IsOpen" active-text="弹窗通知" inactive-text="一般通知">
                            </el-switch>
                        </el-form-item>

                    </el-col>
                    <el-col :span="24">
                        <el-form-item label="响应页面" prop="No_IsOpen">
                            <template>
                                <el-radio v-model="formData.No_Page" label="">无</el-radio>
                                <el-radio v-model="formData.No_Page" label="web_home">电脑端首页</el-radio>
                                <el-radio v-model="formData.No_Page" label="mobi_home">手机端首页</el-radio>
                            </template>
                        </el-form-item>

                    </el-col>
                    <el-col :span="24">
                        <el-form-item label="受众范围" prop="No_Range">
                            <el-radio-group v-model="formData.No_Range">
                                <el-radio :label="1">全部</el-radio>
                                <el-radio :label="2">未登录</el-radio>
                                <el-radio :label="3">已登录</el-radio>
                            </el-radio-group>
                        </el-form-item>
                    </el-col>

                    <el-col :span="24">
                        <el-form-item label="有效时间" prop="No_IsOpen">
                            <template>
                                <el-date-picker v-model="formData.No_StartTime" type="date" placeholder="起始时间"
                                    :style="{width: '160px'}">
                                </el-date-picker>

                                <el-date-picker v-model="formData.No_EndTime" align="right" type="date"
                                    placeholder="结束时间" :style="{width: '160px'}">
                                </el-date-picker>

                            </template>
                        </el-form-item>
                    </el-col>
                    <el-col :span="24">
                        <el-form-item label="" prop="No_IsOpen" >
                            <el-input v-model="formData.SI_Timespan" :style="{width: '325px'}" :maxlength="5">
                                <template slot="prepend">每天弹出</template>
                                <template slot="append">次</template>
                            </el-input>
                        </el-form-item>
                    </el-col>

                    <el-col :span="24">
                        <el-form-item label="弹出时段" prop="No_IsOpen">
                            <template>
                                <el-time-picker :picker-options="{
                                    selectableRange: '18:30:00 - 20:30:00'
                                  }" placeholder="任意时间点">
                                </el-time-picker>
                                <el-time-picker arrow-control :picker-options="{
                                    selectableRange: '18:30:00 - 20:30:00'
                                  }" placeholder="任意时间点">
                                </el-time-picker>
                            </template>
                        </el-form-item>
                    </el-col>
                    <el-col :span="24">
                        <el-form-item label="背景图片" prop="No_IsOpen">
                            <el-upload class="avatar-uploader"
                            :action="'/upload/image/Employee?width=200&height=200&tojpg=true&small=true&old='+formData.Acc_Photo"
                            :show-file-list="false"
                            :on-success="handleAvatarSuccess"
                            :before-upload="beforeAvatarUpload">
                     <img v-if="formData.Acc_Photo!=''" :src="formData.Acc_Photo" class="avatar photo">
                     <img v-else class="el-icon-plus avatar-uploader-icon photo" src="../images/head1.jpg" />
                     <span class="avatar-uploader-icon photo-txt">上传头像</span>
                 </el-upload>
 
                        </el-form-item>
                    </el-col>
                    <el-col :span="24">
                        <el-form-item label="" prop="No_IsOpen">
                            <el-input v-model="formData.SI_Timespan" :style="{width: '260px'}" :maxlength="5">
                                <template slot="prepend">宽度</template>
                                <template slot="append">%</template>
                            </el-input>
                            <el-input v-model="formData.SI_Timespan" :style="{width: '260px'}" :maxlength="5">
                                <template slot="prepend">高度</template>
                                <template slot="append">%</template>
                            </el-input>
                        </el-form-item>
                    </el-col>

                    <el-col :span="24">
                        <el-form-item label="链接地址" prop="No_Linkurl">
                            <el-input v-model="formData.No_Linkurl" placeholder="可以为空" clearable
                                :style="{width: '100%'}">
                            </el-input>
                        </el-form-item>
                    </el-col>
                </el-tab-pane>
            </el-tabs>
            <el-form-item class="footer">
                <el-button type="primary" native-type="submit" :loading="loading" plain @click="btnEnter('formData')">
                    确认修改</el-button>
                <el-button type='close'>取消</el-button>
            </el-form-item>
        </el-form>

    </div>
</body>
<script type="text/javascript" src="scripts/Notice_Edit.js"></script>

</html>